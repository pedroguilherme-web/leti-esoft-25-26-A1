@startuml
'https://plantuml.com/class-diagram

hide circle
top to bottom direction
skinparam linetype ortho
title Domain Model Diagram

class Person {
    name : Text
    birth_date : Date
    sex : Text
    'address : Address
    phone_number : Integer
    email : Text
    cc_number : Text
}
class NurseUser {
    nurse_id : Integer
}
class SNSUser {
    sns_number : Integer
    blood_type : Text
    'health_record : HealthRecord*
}
class ReceptionistUser {
    receptionist_id : Integer
}
class DGSAdminUser {
    admin_id : Integer
    'priority_pandemic : Disease*
}
class Vaccine {
    name : Text
    brand : Text
    vaccine_id : Text
    tech_used : Text
    disease : Text
    lot : Text
}
class Appointment {
    'patient : SNSUser*
    'institution : Institution*
    'date : AppointmentDate
    'vaccine : Vaccine*
    state : Integer
    reaction : Text
}
class Institution {
    'address : Address
    name : Text
    phone_number : Integer
    website : Text
    'opening_hours : OpeningHours
    max_vaccines_per_hour : Integer
}
class HealthCareCenter {
    'treatment : List<Vaccine*>

}
class CommunityCenter {
    'pandemic_treatment : Vaccine*
}
class Address {
    street : Text
    door_number : Text
    zip_code : Text
    city : Text
}
class Date {
    day  : Integer
    month : Integer
    year : Integer
}
class AppointmentDate {
    hour : Integer
    minute : Integer
    seconds : Integer
}
class Hours {
    hour : Integer
    minute : Integer
    seconds : Integer
}
class HealthRecord {
    'patient : SNSUser*
    'vaccine_record : List<Appointment*>
}
class OpeningHours {
    'business_days_open : Hours
    'business_days_closed : Hours
    'saturday_open : Hours
    'saturday_closed : Hours
    'sunday_open : Hours
    'sunday_closed : Hours
}
class Disease {
    name : Text
    start : Date
    'vaccine : Vaccine*
}

Person <|-- NurseUser
Person <|-- SNSUser
Person <|-- ReceptionistUser
Person <|-- DGSAdminUser
Person "1" -- "1"  Address: resides in >
Institution <|-- HealthCareCenter
Institution <|-- CommunityCenter
HealthCareCenter "1" -- "*" Vaccine: administers >
CommunityCenter "1" -- "*" Vaccine: administers >
SNSUser "1" -- "1" HealthRecord: possesses >
HealthRecord "1" -- "*" Appointment: < has registered
Institution "1" -- "1" Address: has? >
Institution "1" -- "1..*" OpeningHours: operate in >
Date <|-- AppointmentDate
DGSAdminUser "1" -- "1" Disease: indicates >
Appointment "1" -- "1" SNSUser: < schedules
Appointment "*" -- "1" Institution: < realizes?
Appointment "1" -- "1" AppointmentDate: < is schedule on
Appointment "1" -- "1" Vaccine: < is administrated during
Disease "1" -- "*" Vaccine: < treats
Hours "*" -- "1" OpeningHours: describes >

@enduml